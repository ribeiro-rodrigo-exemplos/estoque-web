/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
alter table Movimentacao drop constraint FK_hupp4fgrrng725lmxk73mj6lm
alter table Produto drop constraint FK_7roeds87qp6pp2g07rv86t8cb
alter table Produto drop constraint FK_87fuc8hpo9ho5fdin60watttt
alter table Produto drop constraint FK_lrtcw8w6lnpretansc85oml99
drop table Categoria if exists
drop table Estoque if exists
drop table Fornecedor if exists
drop table Movimentacao if exists
drop table Produto if exists
create table Categoria (id bigint generated by default as identity (start with 1), descricao clob(255), nome varchar(255) not null, primary key (id))
create table Estoque (id bigint generated by default as identity (start with 1), descricao clob(255), nome varchar(255) not null, primary key (id))
create table Fornecedor (id bigint generated by default as identity (start with 1), cnpj varchar(255), cpf varchar(255), email varchar(255), endereco varchar(255), razaoSocial varchar(255) not null, telefone varchar(255), primary key (id))
create table Movimentacao (id bigint generated by default as identity (start with 1), dataHora timestamp, quantidade integer not null, tipo varchar(255), produto_id integer, primary key (id))
create table Produto (id integer generated by default as identity (start with 1), descricao clob(255), nome varchar(255) not null, quantidadeAtual integer, quantidadeMinima integer, categoria_id bigint, estoque_id bigint, fornecedor_id bigint, primary key (id))
alter table Categoria add constraint UK_aq7m0c1f35i5jrrn245usbc1t  unique (nome)
alter table Estoque add constraint UK_65rh8q9mkptn2rhn4ybe48p8o  unique (nome)
alter table Fornecedor add constraint UK_p4ry2b3ow2yqqg3sin78ab8uf  unique (cnpj)
alter table Fornecedor add constraint UK_ah31et2bg2arqi2fr2nhrayw2  unique (razaoSocial)
alter table Produto add constraint UK_aojifgo1jsv8ylxpgfntfj40t  unique (nome)
alter table Movimentacao add constraint FK_hupp4fgrrng725lmxk73mj6lm foreign key (produto_id) references Produto
alter table Produto add constraint FK_7roeds87qp6pp2g07rv86t8cb foreign key (categoria_id) references Categoria
alter table Produto add constraint FK_87fuc8hpo9ho5fdin60watttt foreign key (estoque_id) references Estoque
alter table Produto add constraint FK_lrtcw8w6lnpretansc85oml99 foreign key (fornecedor_id) references Fornecedor
alter table Produto add constraint FK_cc425p0u5g3k48d5x5mbwon3v foreign key (id) references Categoria
INSERT INTO CATEGORIA VALUES(1,NULL,'aa')
COMMIT
